package cm.fwi.business;

import java.util.List;

import javax.servlet.http.HttpServletRequest;

import cm.fwi.beans.Profile;
import cm.fwi.dao.DAOException;
import cm.fwi.dao.DAOFactory;
import cm.fwi.dao.ProfileDao;

public class Model extends UtilBus{
    
    private static ProfileDao profileDao = null;
    private static final String MESS = "messages";
    private static final String LAST_PRO = "profile";
    private static final String LIST_PRO = "profiles";

    public Model(DAOFactory daoFactory) {
        Model.profileDao = daoFactory.getProfileDao();
    }
    
    public void saveProfile(HttpServletRequest request) {
        
        String sdate = value
        
    }
    
    public Profile lastProfile(HttpServletRequest request) {
        
        Profile profile = null;
        
        try {
            profile = profileDao.readProfile( 0l );
            
        } catch(DAOException e) {
            request.setAttribute(MESS, "an error occurs; " + e.getMessage());
        } finally {
            request.setAttribute( LAST_PRO, profile );
            return profile;
        }
    }
    
    public List<Profile> listProfiles(HttpServletRequest request){
        return null;
        
    }
}
